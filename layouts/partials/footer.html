<a
  href="#"
  id="backtothetop-fixed"
  class="this is cusstome backtothetop"
  data-backtothetop-duration="600"
  data-backtothetop-easing="easeOutQuart"
  data-backtothetop-fixed-fadeIn="1000"
  data-backtothetop-fixed-fadeOut="1000"
  data-backtothetop-fixed-bottom="10"
  data-backtothetop-fixed-right="20"
>
  <span class="fa-layers fa-fw">
    <i class="fas fa-circle"></i>
    <i class="fas fa-arrow-circle-up"></i> </span
></a>

<a
   href="#"
   id="backtothetop-fixed"
   class="this is cusstome backtothetop"
   data-backtothetop-duration="600"
   data-backtothetop-easing="easeOutQuart"
   data-backtothetop-fixed-fadeIn="1000"
   data-backtothetop-fixed-fadeOut="1000"
   data-backtothetop-fixed-bottom="10"
   data-backtothetop-fixed-right="20"
   >
<span class="fa-layers fa-fw">
<i class="fas fa-circle"></i>
<i class="fas fa-arrow-circle-up"></i> </span
   ></a>
<div style="background-color:rgba(0, 0, 0, 0.83);">
  <div style="padding: 0 10px; background-color:transparent; padding-top: 30px;">
    <hr style="max-width: 1170px; opacity: 0.2; color: lightgrey;"/>
    <div class="content-container container"; style="background-color:transparent">
     
      <div class="row">
       
        <div class="col-sm-4">
          <div style="padding-top:0px;padding-bottom:0px;">
            <div>
              <img
                class=""
                style="margin-top: 20px;"
                src="{{"images/logo_header.png" | absURL}}"
                alt=""
                width="124"
                height="35"
              />
              <div style="color: #676666; margin-top: 20px; font-size: 14px;">
                Copyright Â© 2020 LogiGear Corporation. All rights reserved.
                LogiGear is a registered trademark, and Action Based Testing and
                TestArchitect are trademarks of LogiGear Corporation. All other
                trademarks contained herein are the property of their respective
                owners.
              </div>
            </div>
          </div>
        </div>
        <div class="col-sm-5">
          <div  style="padding: 0 10px;">
            <div>
              <h4 style="color: white; margin: 25px 0;">
                LogiGear Corporation
              </h4>
              <div style="margin: 15px 0;">
               <img
                  style="margin: 0 10px -3px 0;"
                  src="{{"images/location.png" | absURL}}"
                  alt=""
                  width="14"
                  height="20"
                /><span style="color: white; font-size: 14px;"
                  >1730 S. Amphlett Blvd. Suite 110, San Mateo, CA 94402</span
                >
              </div>
              <p style="color: white; font-size: 14px;"><img
                style="margin: 0 10px -3px 0;"
                src="{{"images/phone.png" | absURL}}"
                alt=""
                width="15"
                height="15"
              />Tel:
                <a
                  style="color: white; font-size: 14px;"
                  href="tel:+1(800)%20322-0333"
                  target="_blank"
                  rel="noopener noreferrer"
                  > +1(800) 322-0333</a
                >
              </p>
              <div style="margin: 15px 0;">
                <p style="color: white; font-size: 14px;"><img
                  style="margin: 0 10px -1px 0;"
                  src="{{"images/mail.png" | absURL}}"
                  alt=""
                  width="15"
                  height="15"
                />Email:
                  <a
                    style="color: white; font-size: 14px;"
                    href="mailto:sales@logigear.com"
                    > sales@logigear.com</a
                  >
                </p>
              </div>
              <div class="social-footer" >
                <a
                  style="margin-left: -5px;"
                  href="https://www.facebook.com/logigearcorporation/"
                  target="_blank"
                  rel="noopener noreferrer"
                  ><img
                    style="vertical-align: middle; margin-left: 5px; margin-right: 5px;"
                    src="{{"images/fb-icon.png" | absURL}}"
                    alt=""
                    width="30"
                    height="30"/></a
                ><a
                  href="https://twitter.com/logigear"
                  target="_blank"
                  rel="noopener noreferrer"
                  ><img
                    class=""
                    style="vertical-align: middle; margin-left: 5px; margin-right: 5px;"
                    src="{{"images/twitter.png" | absURL}}"
                    alt=""
                    width="30"
                    height="30"/></a
                ><a
                  href="https://www.linkedin.com/company/logigear-corporation"
                  target="_blank"
                  rel="noopener noreferrer"
                  ><img
                    class=""
                    style="vertical-align: middle; margin-left: 5px; margin-right: 5px;"
                    src="{{"images/linked-in-icon.png" | absURL}}"
                    alt=""
                    width="30"
                    height="30"/></a
                ><a
                  href="https://www.youtube.com/user/LogiGearCorporation"
                  target="_blank"
                  rel="noopener noreferrer"
                  ><img
                    class=""
                    style="vertical-align: middle; margin-left: 5px; margin-right: 5px;"
                    src="{{"images/youtube-icon.png" | absURL}}"
                    alt=""
                    width="30"
                    height="30"/></a
                >
               
              </div>
              <div>&nbsp;</div>
            </div>
          </div>
        </div>
        <div class="col-sm-3">
          <div class="policy-container" style="margin-top: 79px; padding: 0 10px;"><a style="font-size: 14px; color: white;" target="_blank" href="https://www.testarchitect.com/legal/privacy-policy"> Privacy Policy </a> | <a target="_blank" style="font-size: 14px; color: white;" href="https://www.testarchitect.com/legal/eula"> Terms of Use </a></div>
          <div>&nbsp;</div>
        </div>
      </div>
   </div>
</div>

<script>
  
  

  function searchRemote(query, page) {
    var currentLanguage = readCookie('googtrans');
    if(currentLanguage !== undefined) {
      var searchHost = 'https://glowing-harmony-272303.appspot.com/ja?q=';
     } else {
      var searchHost = 'https://glowing-harmony-272303.appspot.com/?q=';
     }

    var $results = $("main");
    if (!page) page = 1;
    $.getJSON(searchHost+query+'&page=' +page)
      .done(function(res) {
        $results.empty();
        renderResults(res, query);
      });
  }

  $("#search-header__form").submit(function(e) {

//prevent Default functionality
e.preventDefault();
var queryValue = $("#search-header").val();
if(queryValue === "") return;
searchRemote(queryValue);

setTimeout(function(){ $("#search-header").val(""); }, 1000);
});

  function initUI() {
    // $("#search-header").keyup(function() {
    //   // Only trigger a search when 2 chars. at least have been provided
    //   var query = $(this).val();
      
    //   if (query.length < 2) {
    //     return;
    //   }

      
    // });
  }

  function searchOnQuery() {
    var urlParams = new URLSearchParams(window.location.search);
    var query = urlParams.get('q');
    var page = urlParams.get('page');
    if (query) {
      searchRemote(query, page);
      $("#search-header").val(decodeURI(query));
    }
  }

  
  /**
   * Display the 10 first results
   *
   * @param  {Array} results to display
   */
  function renderResults(res, query) {
    var converter = new showdown.Converter();
   
    var $results = $("main");
    if (res.results.length < 1) {
      $results.append($("<div>", {html: "<h3>Sorry we couldn't find any matches for <span class='search-query'>"+query +'</span></h3>'}));
      return ;
    }

    $results.append($("<div>", {html: '<h3>Search Results From: <span class="search-query">'+query +'</span></h3>'}));

    // Only show the ten first results
    res.results.forEach(function(result) {
      var $result = $("<li class='search-result__item'>");
      $result.append(
        $("<a>", {
          href: result.href,
          html: "<strong> " +converter.makeHtml(result.title)+"</strongs>"
        })
      );
      $result.append($( converter.makeHtml(result.description)));
      $results.append($result);
    });

    let pagination = $('<ul class="search-pagination">');
    
    if (res.totalPage > 10) {
      const disablec =  res.page <= 10 ? 'pagin-disable': '';
      pagination.append($('<li><a class="' + disablec + '" href="'+location.protocol + "//"+ location.host+'?q='+query+'&page='+((Math.ceil((res.page-10)/10))*10)+'"> < </a></li>'));
    }

    var begin = (Math.ceil(res.page/10)-1)*10+1;
    var end =  begin + 9 > res.totalPage ? res.totalPage : begin + 9;
    for(let i = begin ; i <= end; i++) {
      const cl = i === res.page ? 'active': '';
      pagination.append($('<li class="'+ cl +'"><a href="'+location.protocol + "//"+ location.host+'?q='+query+'&page='+i+'">'+i+'</a></li>'));
    }
    
    if (res.totalPage >10) {
      const disablec = res.totalPage === end ? 'pagin-disable': '';
      pagination.append($('<li ><a class="' + disablec + '" href="'+location.protocol + "//"+ location.host+'?q='+query+'&page='+((Math.ceil(res.page/10))*10+1)+'"> > </a></li>'));
    }


    $results.append(pagination);
  }

  function shortenString(string, length) {
    if(string.length > length){
      //trim the string to the maximum length
      var trimmedString = string.substr(0, length);

      //re-trim if we are in the middle of a word and 
      trimmedString = trimmedString.substr(0, Math.min(trimmedString.length, trimmedString.lastIndexOf(" ")))
      return trimmedString + '...';
    }

    return string;
  }

  // Let's get started

  function updateHasChild(el) {
    const chidren = el.find("ul > li");
    if (el.find("ul > li").length > 0) {
      el.children("a").addClass("has-child");
    }

    chidren.each(function(idx, item) {
      updateHasChild($(item));
    });
  }

  $(document).ready(function() {
    initUI();
    searchOnQuery();
    $(".open-menu > ul > li").each(function(idx, item) {
      updateHasChild($(item));
    });
  });

  function loadContent(url, el) {
    window.scrollTo({ top: 0});
    $("#search-header").val('');
    var parentEl = $(el).parent();
    var siblingsEl = parentEl.siblings();
    siblingsEl.removeClass("open");
    siblingsEl.removeClass("active");
    $(".open-menu")
      .find(".active")
      .removeClass("active");

    parentEl.addClass("active");
    if (parentEl.hasClass("open")) {
      parentEl.removeClass("open");
      parentEl.addClass("close");
    } else if (parentEl.hasClass("close")) {
      parentEl.removeClass("close");
      parentEl.addClass("open");
    } else {
      parentEl.addClass("open");
    }

    $.get(url)
      .done(function(content) {
        var remoteContent = $(content)
            .find("main")
            .html();
        $("main").html(remoteContent);
        window.history.pushState({"html":remoteContent,"pageTitle":url},"", url);
       
      })
      .fail(function(jqxhr, textStatus, error) {
        var err = textStatus + ", " + error;
        console.error("Error getting Hugo index flie:", err);
      });

    return false;
  }
</script>
